function show_chat_dialog(e, a) { $.ajax({ type: "Post", url: e, dataType: "json", data: "{ 'sessionId' : '" + a + "'}", contentType: "application/json; charset=utf-8", success: function (e) { e.Done ? $("#dialog_view").html(e.PartialView).show() : $("#dialog_view").html('<div class="error_message">' + e.Errors[0] + "</div>").show() } }) } $(function () { $("div#chat_sessions a").live("click", function () { "undefined" != typeof new_msg_interval_handler && clearInterval(new_msg_interval_handler); var e = new Dialog(550, 550, '<div class="loading_dialog"></div>'); e.Show(); var a = $(this).parents().eq(1).find('input[name="action_url"]').eq(0).val(), i = $(this).parents().eq(1).find('input[name="sessionId"]').eq(0).val(); return $("input#ActiveChatSessionId").val(i), $(this).parents().eq(1).find(".chat_session_thumb_buble").remove(), show_chat_dialog(a, i), !1 }) });