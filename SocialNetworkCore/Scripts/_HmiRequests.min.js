$(function () {
    $('#hmi_requests a.okey, #hmi_requests a.cancel').live('click', function () {
        $(this).parent().parent().find('div.hmi_req_actions').hide();
        $(this).parent().parent().find('div.loading_small_circle').show();
    });
});

function AcceptFriendshipRequestSuccess(data) {
    if (data.Done) {
        $('#hmi_req_' + data.RequestId).remove();
        if ($('#hmi_requests .hmi_req_in .hmi_req').size() == 0) {
            $('#hmi_requests .hmi_req_in').html(
                '<div class="hmi_req_empty">' +
                    $('#hmi_requests input#w_noNewRequest').val() +
                '</div>'
                );
        }
    }
    else {
        show_error_dialog(data.Errors[0]);
    }
}

function RejectFriendshipRequestSuccess(data) {
    if (data.Done) {
        $('#hmi_req_' + data.RequestId).remove();
        if ($('#hmi_requests .hmi_req_in .hmi_req').size() == 0) {
            $('#hmi_requests .hmi_req_in').html(
                '<div class="hmi_req_empty">' +
                    $('#hmi_requests input#w_noNewRequest').val() +
                '</div>'
                );
        }
    }
    else {
        show_error_dialog(data.Errors[0]);
    }
}