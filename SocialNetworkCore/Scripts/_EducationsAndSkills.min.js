function txt_skills_key_down(l) { if (13 == l.keyCode) { var i = $("input#txt_add_skill").val(); return $.trim(i).length > 0 ? ($("form#frm_add_skill").submit(), !1) : !1 } } function submit_skills_form() { $("form#frm_add_skill").submit() } function AddSkillBegin() { $("#msg_skills").html("").hide() } function AddSkillFailure() { $("#msg_skills").html($("#ajax_fail").val()).show() } function AddSkillSuccess(l) { if (l.Done) { var i = l.Skills; show_list_of_skills(i), $("#txt_add_skill").val("") } else { var e = $("#msg_errors_title").val(); e += "<ul>"; for (var t = 0; t < l.Errors.length; t++) e += "<li>" + l.Errors[t] + "</li>"; e += "</ul>", $("#msg_skills").html(e).fadeIn("fast") } } function DeleteSkillSuccess(l) { l.Done && $("#skill_row_" + l.SkillId).remove() } function AddEducationBegin() { $("#msg_add_edu").html("").hide() } function AddEducationFailure() { $("#msg_add_edu").html($("#ajax_fail").val()).show() } function AddEducationSuccess(l) { if (l.Done) { var i = l.Educations; show_list_of_educations(i), clear_add_edu_form() } else { var e = $("#msg_errors_title").val(); e += "<ul>"; for (var t = 0; t < l.Errors.length; t++) e += "<li>" + l.Errors[t] + "</li>"; e += "</ul>", $("#msg_add_edu").html(e).fadeIn("fast") } } function DeleteEducationSuccess(l) { l.Done && $("#edu_row_" + l.EducationId).remove() } function show_list_of_skills(l) { for (var i = "", e = 0; e < l.length; e++) i += '<div class="skill_row" id="skill_row_' + l[e].Id + '"><a class="remove_skill">' + $("input#w_delete").val() + '</a><input type="hidden" disabled="disabled" value="' + l[e].Id + '" />' + l[e].SkillTitle + "</div>"; $("div#skills_list").html(i) } function show_list_of_educations(l) { for (var i = "", e = 0; e < l.length; e++) i += '<div class="edu_row" id="edu_row_' + l[e].Id + '"><a class="remove_edu">' + $("input#w_delete").val() + '</a><input type="hidden" disabled="disabled" value="' + l[e].Id + '" />' + l[e].EducationBranch + ' <span class="edu_row_explan">' + l[e].EducationLevelText + " " + ($.trim(l[e].EducationLocation).length > 0 ? $("input#w_in").val() + " " + l[e].EducationLocation : "") + "</span></div>"; $("div#educations_list").html(i) } function clear_add_edu_form() { $("select#EducationLevel").val(""), $("input#EducationBranch").val(""), $("input#EducationLocation").val(""), $('select[name="FromYear"]').val(""), $('select[name="ToYear"]').val("") } $(function () { $("a.remove_skill").live("click", function () { $("#prg_delete_skill").css("top", $(this).position().top).css("left", 80); var l = $(this).next("input").val(); $("#skill_to_delete").val(l), $(this).parents().eq(2).submit() }), $("a#btn_add_edu").live("click", function () { $("form#frm_add_edu").submit() }), $("a.remove_edu").live("click", function () { $("#prg_delete_edu").css("top", $(this).position().top).css("left", 80); var l = $(this).next("input").val(); $("#edu_to_delete").val(l), $(this).parents().eq(2).submit() }) });