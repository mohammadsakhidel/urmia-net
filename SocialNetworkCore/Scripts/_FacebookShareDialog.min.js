function ShareObjectOnFacebookBegin() {
    hide_msg();
}

function ShareObjectOnFacebookFailure() {
    show_error_msg($('#fb_share_dialog input#w_ajax_fail').val());
}

function ShareObjectOnFacebookSuccess(data) {
    if (data.Done) {
        show_success_msg(data.Message);
    }
    else {
        show_error_msg(data.Errors[0]);
    }
}

function fbShare() {
    FB.login(function (loginResponse) {
        if (loginResponse.status === 'connected') {
            var userId = loginResponse.authResponse.userID;
            var accessToken = loginResponse.authResponse.accessToken;
            $('#fb_share_dialog form#frm_fb_share_dialog').find('input[name="FacebookUserId"]').val(userId);
            $('#fb_share_dialog form#frm_fb_share_dialog').find('input[name="FacebookAccessToken"]').val(accessToken);
            $('#fb_share_dialog form#frm_fb_share_dialog').submit();
        }
        else {
            show_error_msg($('#hid_fb_connect_err_msg').val());
        }
    }, { scope: 'email, publish_actions, user_photos' });
}

function show_success_msg(txt) {
    $('#fb_share_dialog div#dialog_msg').html(txt).removeClass('error_message').addClass('success_message').show();
}

function show_error_msg(txt) {
    $('#fb_share_dialog div#dialog_msg').html(txt).removeClass('success_message').addClass('error_message').show();
}

function hide_msg() {
    $('#fb_share_dialog div#dialog_msg').html('').removeClass('success_message').removeClass('error_message').hide();
}